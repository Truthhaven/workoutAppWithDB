<script>
    import { onMount } from 'svelte';
    import axios from 'axios';
    import WorkoutCard from '../componets/workoutCard.svelte';  
    /**
   * @type {any[]}
   */
    let workouts = [];
  
    /*
    // Fetch workouts when the component is mounted
    onMount(async () => {
      try {
        const response = await axios.get('http://localhost:5001/api/workouts');
        workouts = response.data;
      } catch (error) {
        console.error('Error fetching workouts:', error);
      }
    });
    */
    // Fetch all workouts on mount
  async function fetchAllWorkouts() {
    try {
      const response = await axios.get(`http://localhost:5001/api/workouts`);
      workouts = response.data;
      console.log('All workouts:', workouts);  // Log all workouts returned on mount
    } catch (error) {
      console.error('Error fetching workouts:', error);
    }
  }

  // Fetch workouts filtered by selected muscles
  async function fetchWorkoutsByMuscle() {
    try {
      const muscleName = selectedMuscles.join(',');
      const response = await axios.get(`http://localhost:5001/api/workouts?muscleName=${muscleName}`);
      workouts = response.data;
      console.log('Filtered workouts for muscles:', muscleName, workouts);  // Log filtered workouts by muscle selection
    } catch (error) {
      console.error('Error fetching workouts:', error);
    }
  }
  // Toggle muscle selection
  /**
   * @param {any} muscleName
   */
   function toggleMuscle(muscleName) {
  const isBack = muscleName.includes("(back)");

  // Determine the linked muscle (either front or back)
  const linkedMuscleName = isBack
    ? muscleName.replace(" (back)", "")
    : `${muscleName} (back)`;

  // If the muscle is already selected, remove both the muscle and its linked muscle
  if (selectedMuscles.includes(muscleName)) {
    selectedMuscles = selectedMuscles.filter(
      name => name !== muscleName && name !== linkedMuscleName
    );
  } else {
    // If the muscle is not selected, add both the muscle and its linked muscle
    selectedMuscles = [...selectedMuscles, muscleName, linkedMuscleName];
  }

  fetchWorkoutsByMuscle(); // Fetch filtered workouts based on selected muscles
}

  // On mount, fetch all workouts
  onMount(fetchAllWorkouts);

// Toggles filtering the workouts 
let toggleGroups = [
    {
      title: 'Visuals',
      items: [
        { id: 'images', label: 'Must Include Images', isSelected: false }
      ]
    },
    {
      title: 'Description',
      items: [
        { id: 'description', label: 'Must Include Description', isSelected: false }
      ]
    },
    {
      title: 'Equipment',
      items: [
        { id: 'withEquipment', label: 'Uses Equipment', isSelected: false },
        { id: 'noEquipment', label: 'No Equipment Required', isSelected: false }
      ]
    }
  ];

  /**
 * Array of muscle objects 
 *
 * @type {Array.<{id: string; path: string; isSelected: boolean; isFront: boolean; isBack: boolean; front: undefined; worked: boolean| SVGPathElement; back: undefined | SVGPathElement; }>}
 */
  let muscles = [
    {
      id: "Trapezius",
      path: "M146.217 82.5107C154.151 82.087 147.315 73.3304 146.217 71C144.507 73.4011 130.47 81.0278 124 82.5107C132.152 83.3582 138.282 82.9345 146.217 82.5107Z M183.22 83.47C192.07 83.929 198.906 84.388 208 83.47C200.784 81.8634 185.127 73.6012 183.22 71C181.995 73.5246 174.37 83.011 183.22 83.47Z",
      isSelected: false,
      isFront: true,
      isBack: false,
      front: undefined,
      back: undefined,
      worked: false
    },

    {
      id:"Shoulders",
      path:"M142 84.8975C137.582 85.3454 130.01 84.8077 127.389 83.822C126.115 83.3429 126.515 83.0154 122.146 83.0154C117.777 83.0154 108.36 82.2987 99.5261 90.6333C91.7474 97.971 89.8176 104.076 89.0411 112.59C88.8297 114.912 89.5264 119.759 89.0411 122C90.537 120.062 96.5839 118 102.051 113.844C108.652 108.826 117.566 108.001 121.467 102.911C125.836 97.1305 131.218 88.3195 142 84.8975Z M228.721 113.208C233.882 117.143 239.592 119.095 241.004 120.93C240.546 118.809 241.204 114.218 241.004 112.02C240.271 103.958 238.449 98.1765 231.104 91.2282C222.762 83.3359 213.871 84.0146 209.746 84.0146C205.621 84.0146 205.999 84.3247 204.796 84.7784C202.321 85.7117 195.171 86.2209 191 85.7968C201.18 89.0372 206.262 97.3807 210.387 102.854C214.071 107.674 222.488 108.455 228.721 113.208Z",
      isSelected: false,
      isFront : true,
      isBack : false,
      front: undefined,
      back: undefined,
      worked: false
    },
    {
      id:"Chest",  
      path:"M143.768 134.424C148.799 133.578 152.055 132.456 154.544 131.105C156.544 130.019 158.049 128.784 159.58 127.423C163.018 124.368 161.327 113.675 160.522 109.347C159.718 105.019 162.559 85.3733 143.63 91.3985C133.45 94.6389 128.368 102.982 124.243 108.456C125.618 108.583 125.343 110.366 124.93 112.402C124.518 114.439 123.693 124.114 126.03 128.442C126.976 130.193 128.576 131.757 130.747 132.897C132.962 134.061 135.774 134.783 139.093 134.812C140.555 134.825 142.116 134.702 143.768 134.424Z M185.213 91.3985C166.284 85.3733 169.125 105.019 168.32 109.347C167.516 113.675 165.825 124.368 169.263 127.423C170.794 128.784 172.299 130.02 174.298 131.105C176.787 132.456 180.043 133.577 185.075 134.424C186.727 134.702 188.288 134.825 189.75 134.812C193.069 134.783 195.88 134.061 198.096 132.897C200.267 131.757 201.866 130.193 202.813 128.442C205.15 124.114 204.325 114.439 203.913 112.402C203.5 110.366 203.225 108.583 204.6 108.456C200.475 102.982 195.393 94.6389 185.213 91.3985Z",
      isSelected: false,
      isFront : true,
      isBack : false,
      front: undefined,
      back: undefined,
      worked: false

    },
      {
      id:"Abs",
      path:"M188.189 168.031C187.854 169.205 187.184 170.322 187.825 171.425C188.466 172.529 188.467 173.971 188.284 175.923C188.1 177.875 187 184.919 186.45 186.531C185.9 188.143 185.992 189.109 186.084 191.596C186.175 194.084 186.541 200.279 185.716 203.588C184.891 206.898 178.474 225.823 177.191 228.793C175.909 231.763 171.874 241.777 171.416 242.965C170.959 244.154 170.591 244.832 169.216 245.511C168.126 246.221 165.206 247.845 163.969 247.845C162.731 247.845 160.394 245.936 159.626 245.511C158.287 244.772 157.884 244.154 157.426 242.965C156.968 241.777 152.934 231.763 151.651 228.793C150.368 225.823 143.951 206.898 143.126 203.588C142.301 200.279 142.668 194.084 142.759 191.596C142.851 189.109 142.943 188.143 142.393 186.531C141.843 184.918 140.743 177.875 140.559 175.923C140.376 173.971 140.376 172.528 141.018 171.425C141.659 170.322 140.988 169.205 140.654 168.031C140.055 165.93 140.537 160.775 141.499 159.12C142.462 157.465 148.156 154.028 151.324 152.373C154.493 150.718 158.16 149.318 159.626 148.873C160.609 148.574 162.509 147.821 164.421 149.042C166.334 147.821 168.234 148.574 169.217 148.873C170.684 149.318 174.351 150.718 177.519 152.373C180.688 154.028 186.382 157.465 187.344 159.12C188.307 160.775 188.788 165.93 188.189 168.031ZM149.818 150.782C152.61 149.434 159.787 146.454 161.654 145.245C163.522 144.035 162.743 138.116 162.743 136.037C162.743 130.654 158.645 130.351 154.544 131.105C152.056 132.456 148.8 133.577 143.768 134.424C142.026 135.952 139.935 145.629 139.765 149.87C139.703 151.441 139.752 153.264 140.33 155.237C141.275 158.461 145.074 153.073 149.818 150.782ZM189.077 149.87C188.907 145.629 186.816 135.952 185.075 134.424C180.044 133.578 176.788 132.456 174.298 131.105C170.197 130.351 166.1 130.654 166.1 136.037C166.1 138.116 165.321 144.035 167.188 145.245C169.056 146.454 176.233 149.434 179.025 150.782C183.769 153.073 187.567 158.461 188.513 155.237C189.091 153.264 189.141 151.441 189.077 149.87Z",
      isSelected: false,
      isFront : true,
      isBack : false,
      front: undefined,
      back: undefined,
      worked: false

      },

      {
      id:"Serratus anterior",
      path:"M136.251 186.87C137.809 183.815 137.718 178.129 136.251 176.602C134.784 175.074 137.22 175.753 137.056 173.462C136.893 171.17 138.176 164.72 135.059 163.193C131.943 161.665 137.329 163.193 137.386 159.544C137.442 155.894 138.176 151.736 134.968 149.529C136.159 148.681 139.001 147.069 138.543 142.74C138.084 138.412 137.167 138.412 136.251 137.734C137.809 137.055 138.154 135.969 139.093 134.811C135.774 134.783 132.962 134.061 130.747 132.897C129.559 132.896 127.174 132.735 126.259 132.557C124.496 132.215 122.593 131.879 121.676 136.716C120.759 141.553 121.309 150.973 123.143 155.301C124.977 159.629 124.335 159.289 124.243 160.647C124.151 162.005 124.885 168.116 125.801 169.813C126.152 170.464 126.73 172.601 126.678 175.041C126.593 178.962 124.976 183.391 126.259 184.239C126.979 184.716 130.505 187.267 133.302 187.783C134.626 188.027 135.75 187.852 136.251 186.87Z M192.592 137.734C191.675 138.413 190.759 138.413 190.3 142.741C189.841 147.069 192.684 148.682 193.875 149.53C190.666 151.736 191.4 155.895 191.457 159.544C191.514 163.193 196.9 161.666 193.784 163.193C190.667 164.721 191.95 171.171 191.786 173.462C191.623 175.753 194.059 175.075 192.591 176.602C191.124 178.13 191.034 183.816 192.591 186.871C193.092 187.852 194.217 188.028 195.54 187.783C198.337 187.267 201.864 184.716 202.584 184.24C203.866 183.391 202.25 178.962 202.165 175.042C202.112 172.602 202.69 170.465 203.041 169.813C203.958 168.116 204.692 162.006 204.6 160.648C204.508 159.29 203.867 159.63 205.7 155.302C207.533 150.973 208.084 141.554 207.166 136.716C206.249 131.879 204.346 132.216 202.584 132.558C201.668 132.736 199.284 132.897 198.096 132.897C195.881 134.061 193.069 134.783 189.75 134.812C190.689 135.969 191.034 137.055 192.592 137.734Z",
      isSelected: false,
      isFront : true,
      isBack: false,
      front: undefined,
      back: undefined,
      worked: false

      },

      {
      id:"Obliquus externus abdominis",
      path : "M138.726 219.33C140.376 221.662 140.009 216.997 140.101 214.961C140.192 212.924 138.176 210.378 139.093 208.341C140.01 206.304 139.643 199.006 139.093 194.254C138.543 189.501 134.784 188.483 133.303 187.783C130.506 187.267 126.979 184.716 126.26 184.239C125.711 183.867 124.885 184.07 124.518 189.84C124.151 195.611 124.335 198.921 124.518 201.637C124.701 204.353 130.751 208.511 132.034 209.614C133.318 210.718 133.501 212.16 133.303 212.924C133.329 213.036 133.356 213.146 133.382 213.255C133.932 214.386 137.251 217.245 138.726 219.33Z M189.75 194.254C189.2 199.006 188.833 206.304 189.75 208.341C190.667 210.378 188.65 212.924 188.742 214.961C188.834 216.997 188.467 221.662 190.117 219.33C191.591 217.246 194.911 214.386 195.461 213.255C195.488 213.146 195.514 213.036 195.54 212.924C195.342 212.161 195.526 210.718 196.809 209.615C198.092 208.511 204.142 204.353 204.326 201.637C204.509 198.921 204.692 195.612 204.326 189.841C203.959 184.07 203.133 183.868 202.584 184.24C201.864 184.716 198.338 187.267 195.54 187.783C194.059 188.483 190.3 189.501 189.75 194.254Z",
      isSelected: false,
      isFront : true,
      isBack : false,
      front: undefined,
      back: undefined,
      worked: false
      },

      {
      id:"Biceps", 
      path:"M101.226 115.309C96.2219 119.228 90.6865 121.171 89.3172 122.999C87.4067 126.801 85.8038 134.188 85.2562 137.702C84.4244 143.039 83.9237 148.321 84.0095 152.827C84.0735 156.168 84.4606 159.083 85.2738 161.277C86.0614 163.402 87.8066 167.108 88.3398 169C98.471 164.573 106.913 152.996 112.201 139.73C116.854 128.058 115.134 112.732 119 105C115.429 109.799 107.269 110.577 101.226 115.309Z M245.99 150.827C246.076 146.321 245.576 141.039 244.744 135.702C244.196 132.188 242.593 124.801 240.683 120.999C239.313 119.171 233.778 117.228 228.774 113.309C222.731 108.577 214.571 107.799 211 103C214.866 110.732 213.146 126.058 217.799 137.73C223.087 150.996 231.529 162.573 241.66 167C242.193 165.108 243.939 161.402 244.726 159.277C245.539 157.083 245.926 154.168 245.99 150.827Z",
      isSelected: false,
      isFront:true,
      isBack: false,
      front: undefined,
      back: undefined,
      worked: false
      },

      {
      id:"Brachialis", 
      path: "M84.5008 131C83.0092 136.602 77.8101 142.749 76.9592 148.652C76.126 154.43 76.9592 170.377 76.9592 172.753C76.9592 175.129 76.2255 181.918 75.3092 184.125C74.3929 186.331 75.8592 188.707 75.3092 193.12C77.6929 189.556 83.0092 181.24 85.0409 175.808C89.2341 164.599 83.325 159.965 82.5 155.5C81.95 153.6 82.5 145 83.5 142.5C81.1951 141.013 84.5674 134.355 84.5008 131Z M254.719 187.022C253.885 184.82 253.218 178.044 253.218 175.672C253.218 173.3 253.976 157.384 253.218 151.618C252.444 145.727 247.715 139.59 246.358 134C246.298 137.349 247.763 139.301 247 141.5C246.261 143.629 248.5 151.603 248 153.5C247.25 157.956 241.53 166 245.867 178.721C247.715 184.142 252.55 192.443 254.719 196C254.218 191.595 255.552 189.224 254.719 187.022Z",
      isSelected: false,
      isFront: true,
      isBack : false,
      front: undefined,
      back: undefined,
      worked: false
      },
      {
      id:"Quads", 
      path:"M113.38 274.323C113.655 266.43 118.718 245.974 126.076 235.922C120.943 242.201 112.234 253.998 111.134 264.436C110.057 274.354 110.493 279.923 111.134 295.963C111.775 312.002 114.068 319.003 115.443 322.949C116.818 326.895 119.705 328.296 119.155 335.297C121.035 329.611 122.043 328.253 120.668 322.185C119.968 320.355 116.476 314.979 115.855 312.511C113.356 302.582 113.105 282.215 113.38 274.323Z M216.094 274.028C216.465 282.05 216.127 302.75 212.762 312.842C211.926 315.35 207.225 320.814 206.282 322.674C204.431 328.841 205.789 330.222 208.319 336C207.578 328.884 211.466 327.461 213.317 323.45C215.169 319.44 218.255 312.324 219.119 296.022C219.982 279.721 220.569 274.06 219.119 263.98C217.638 253.372 205.912 241.382 199 235C208.908 245.217 215.724 266.007 216.094 274.028Z M137.993 265.964C134.234 251.791 133.959 241.098 133.684 237.025C133.409 232.952 132.768 225.399 129.834 219.967C130.293 222.259 131.21 229.642 126.076 235.922C118.717 245.974 113.655 266.43 113.38 274.323C113.105 282.215 113.356 302.582 115.855 312.511C116.476 314.979 119.968 320.356 120.668 322.186C121.375 324.033 123.785 326.522 125.981 326.506C128.076 326.491 129.977 324.059 130.018 322.186C130.205 313.657 134.549 303.257 137.056 293.035C138.689 286.378 139.23 274.832 137.993 265.964Z M215.463 274.323C215.188 266.43 210.125 245.974 202.766 235.922C197.633 229.642 198.55 222.259 199.009 219.967C196.075 225.399 195.434 232.952 195.159 237.025C194.884 241.098 194.609 251.791 190.85 265.964C189.613 274.832 190.153 286.378 191.786 293.035C194.294 303.257 198.637 313.657 198.825 322.186C198.866 324.06 200.766 326.491 202.861 326.506C205.058 326.522 207.468 324.033 208.175 322.186C208.875 320.356 212.367 314.979 212.988 312.511C215.487 302.582 215.738 282.215 215.463 274.323Z M146.243 309.584C145.555 301.691 141.751 280.136 137.993 265.964C139.23 274.832 138.69 286.378 137.056 293.035C134.549 303.257 130.205 313.657 130.018 322.186C130.843 331.988 133.043 337.716 134.968 339.371C136.893 341.026 142.255 339.116 144.868 336.952C147.755 326.896 146.93 317.476 146.243 309.584Z M190.85 265.964C187.091 280.136 183.288 301.691 182.6 309.584C181.913 317.476 181.088 326.896 183.975 336.952C186.588 339.116 191.95 341.026 193.875 339.371C195.8 337.716 198 331.988 198.825 322.186C198.637 313.657 194.294 303.257 191.786 293.035C190.153 286.378 189.613 274.832 190.85 265.964Z" ,
      isSelected: false,
      isFront :true,
      isBack : false,
      front: undefined,
      back: undefined,
      worked: false
      },

      {
      id:"Calves",
      path:"M135.976 378.323C135.385 381.007 135.277 386.181 135.496 392.41C137.809 399.2 144.45 401.067 146.283 403.783C147.383 398.351 150.133 394.108 150.5 383.415C150.866 372.722 147.803 370.65 147.343 361.69C145.143 370.007 137.81 370.007 135.976 378.323Z M181.5 361.69C181.04 370.65 178.934 372.722 179.3 383.415C179.666 394.108 182.416 398.351 183.516 403.783C185.349 401.067 191.034 399.2 193.346 392.41C193.566 386.181 193.458 381.006 192.866 378.323C191.033 370.007 183.7 370.007 181.5 361.69Z",
      isSelected: false,
      isFront : true,
      isBack :false,
      front: undefined,
      back: undefined,
      worked: false
      },

      {
      id:"Soleus", 
      path:"M135.496 392.41C135.957 405.488 137.861 423.215 139.765 432.297C143.125 417.7 144.225 409.214 145.325 403.783C143.493 401.067 137.809 399.2 135.496 392.41Z M183.516 403.783C184.616 409.214 185.716 417.7 189.077 432.297C190.981 423.215 192.886 405.488 193.346 392.41C191.034 399.2 185.349 401.067 183.516 403.783Z",
      isSelected: false,
      isFront : true,
      isBack : false,
      front: undefined,
      back: undefined,
      worked: false
      },

      {
      id:"Trapezius (back)", 
      path:"M172.714 123.472C173.436 121.472 173.903 119.242 174.008 116.707C174.206 111.89 176.739 107.469 177.433 102.964C178.128 98.4587 179.965 96.397 180.66 92.6937C178.874 93.4573 176.788 92.8081 177.93 90.8611C179.072 88.9141 191.283 90.0594 191.283 90.0594C191.283 90.0594 191.283 90.0594 195.153 90.2504C199.025 90.4414 211.305 87.9974 212 86.3559C208.971 84.7905 198.299 84.7305 195.153 83.5751C192.007 82.4197 178.922 79.9044 174.008 77.6138C169.094 75.3232 162.76 72.6019 161.003 69.482C158.919 65.7789 155.277 64.1398 154.898 57.1124C154.848 56.1962 156.09 52.4166 155.246 51.7295C154.402 51.0422 149.934 50.5076 149.587 51.7295C149.24 52.9513 148.459 60.0212 149.537 62.381C150.901 65.3662 147.684 66.0204 145.194 66.1468C142.705 66.0204 139.488 65.3662 140.851 62.381C141.93 60.0212 141.148 52.9513 140.801 51.7295C140.455 50.5076 135.987 51.0422 135.143 51.7295C134.299 52.4166 135.54 56.1962 135.49 57.1124C135.111 64.1398 132.76 67.1598 130.675 70.8629C128.92 73.9828 125.084 76.0272 119.33 77.6138C114.416 79.9044 100.157 82.4197 97.0111 83.5751C93.865 84.7305 84.0282 84.7905 81 86.3559C81.6951 87.9974 91.3631 90.4414 95.2348 90.2504C99.1064 90.0594 99.1064 90.0594 99.1064 90.0594C99.1064 90.0594 111.316 88.9141 112.458 90.8611C113.601 92.8081 111.515 93.4573 109.729 92.6937C110.424 96.397 112.26 98.4579 112.955 102.964C113.65 107.469 116.183 111.89 116.381 116.707C116.485 119.242 116.953 121.471 117.675 123.472C120.388 130.993 126.682 135.291 130.675 140.531C135.739 147.174 136.831 153.893 141 158.55C142.012 159.681 143.626 160.908 145.194 162C146.763 160.908 148.376 159.681 149.388 158.55C153.558 153.892 154.65 147.174 159.714 140.531C163.707 135.291 169.999 130.993 172.714 123.472Z",
      isSelected: false,
      isFront : false,
      isBack : true,
      front: undefined,
      back: undefined,
      worked: false
      },
      {
      id:"Lats",   
      path:"M194.125 122.053C190.835 122.82 183.942 121.765 180.404 121.264C178.774 121.402 176.87 121.07 174.167 120C171.355 129.446 164.835 134.845 160.698 141.427C155.452 149.771 154.32 158.21 150 164.062C156.891 168.185 156.687 169.913 162.034 174.037C167.664 178.378 170.88 184.587 171.188 191.684C171.497 198.782 172.526 204.728 179.623 207.51C178.8 201.755 180.342 198.878 182.399 194.083C184.457 189.287 185.177 182.381 186.617 177.106C188.057 171.831 189.238 160.225 194.434 151.305C197.398 146.217 202.148 133.562 204 124.187C203.692 123.54 202.843 121.957 201.994 120.518C200.297 120.231 197.417 121.286 194.125 122.053Z M117.833 124C115.131 125.039 113.226 125.361 111.596 125.228C108.058 125.715 101.165 126.739 97.8744 125.994C94.5831 125.249 91.7028 124.224 90.0057 124.503C89.1571 125.901 88.308 127.438 88 128.067C89.8521 137.173 94.6022 149.466 97.5664 154.408C102.763 163.072 103.944 174.345 105.384 179.469C106.824 184.592 107.543 191.3 109.601 195.958C111.658 200.616 113.2 203.41 112.378 209C119.475 206.298 120.503 200.523 120.812 193.628C121.121 186.735 124.337 180.704 129.966 176.487C135.315 172.481 135.109 170.804 142 166.799C137.681 161.116 136.549 152.918 131.302 144.813C127.165 138.42 120.644 133.175 117.833 124Z",
      isSelected: false,
      isFront : false,
      isBack : true,
      front: undefined,
      back: undefined,
      worked: false
      },
      {
      id:"Triceps brachii",  
      path:"M246.003 201.994C247.283 202.115 252.113 200.356 253.67 197.646C254.44 196.309 253.603 194.349 253.733 193.037C254.906 181.183 251.813 177.545 251.118 174.515C250.423 171.484 250.493 165.04 248.93 161.599C247.368 158.158 245.55 150.1 242.988 147.476C242 146.464 238.012 140.526 237.666 138.046C235.394 136.114 232.857 134.835 229.633 132.642C226.918 131.532 219.751 129.428 215.452 132.957C213.932 134.205 213.03 136.508 212.532 139.022C211.622 143.612 212.058 148.909 212.522 149.786C213.238 151.144 213.955 152.637 214.215 153.247C214.475 153.858 218.178 160.485 220.979 165.099C223.781 169.714 228.462 181.215 229.633 183.93C230.804 186.644 232.118 190.718 232.975 193.037C234.919 197.164 244.093 201.813 246.003 201.994Z M87.4175 131.022C86.8719 128.507 85.8845 126.205 84.219 124.957C79.5102 121.428 71.6622 123.532 68.688 124.642C65.1572 126.835 62.3787 128.113 59.8902 130.046C59.8902 132.415 56.4125 137.593 56.4125 137.593C50.6101 140.639 51.1499 150.628 49.4387 154.07C47.7275 157.511 48.5632 163.483 47.8024 166.515C47.0416 169.546 41.0076 173.183 42.2919 185.037C42.434 186.349 41.519 188.309 42.3603 189.646C44.0664 192.356 49.3567 194.115 50.758 193.994C52.8504 193.813 64.8912 187.602 67.0196 183.474C67.9591 181.155 69.4445 177.232 70.727 174.517C72.0095 171.803 76.4927 162.655 79.5605 158.041C82.6283 153.427 85.2898 145.858 85.5746 145.247C85.8594 144.637 86.6447 143.144 87.4295 141.786C87.9364 140.908 88.4136 135.612 87.4175 131.022Z",
      isSelected: false,
      isFront : false,
      isBack : true,
      front: undefined,
      back: undefined,
      worked: false
      },
      {
      id:"Glutes",   
      path:"M172.65 278.978C174.218 279.034 175.899 278.984 177.628 278.817C178.194 278.762 178.764 278.695 179.338 278.617C188.073 277.405 197.473 273.259 199.575 265.169C202.236 254.923 200.533 246.548 199.575 243.608C198.618 240.668 193.297 229.71 179.939 221C171.597 224.816 151.685 234.52 153.069 260.001C153.505 268.011 153.069 272.613 153.069 272.613C154.24 274.84 162.753 278.621 172.65 278.978Z M115.06 221C101.704 229.71 96.383 240.668 95.425 243.608C94.4677 246.549 92.7647 254.923 95.425 265.169C97.5273 273.259 106.929 277.406 115.663 278.617C116.236 278.695 116.807 278.762 117.373 278.817C119.102 278.984 120.782 279.034 122.35 278.978C132.247 278.621 138.079 276.533 139.25 274.306C140.42 272.078 141.496 268.011 141.931 260.001C143.315 234.52 123.403 224.817 115.06 221Z",
      isSelected: false,
      isFront : false,
      isBack : true,
      front: undefined,
      back: undefined,
      worked: false
      },
      
      {
      id:"Hamstrings",    
      path:"M197.478 302.753C195.735 291.554 192.429 284.092 191.912 282.792C190.043 278.084 183.308 279.504 176 279C182.84 287.898 183.186 295.788 183.186 295.788C183.186 295.788 183.186 295.788 184.017 302.337C184.68 307.561 184.814 322.09 184.577 335.077C184.517 338.376 184.434 341.576 184.328 344.498C183.809 358.927 188.38 363.737 188.38 363.737C188.38 363.737 189.002 364.86 189.955 366.604C192.421 371.116 197.104 379.793 198.977 384C199.081 380.111 198.818 367.177 198.39 362.305C197.107 347.671 197.419 336.311 198.354 322.394C198.844 315.095 198.363 308.443 197.478 302.753Z M109.543 359.702C109.543 359.702 114.512 355.121 113.948 341.379C113.833 338.596 113.741 335.549 113.677 332.407C113.42 320.038 113.566 306.201 114.286 301.226C115.189 294.989 115.189 294.989 115.189 294.989C115.189 294.989 115.567 287.474 123 279C115.056 279.48 107.736 278.128 105.703 282.611C105.141 283.85 101.549 290.957 99.655 301.622C98.6928 307.04 98.1691 313.376 98.7023 320.328C99.7187 333.582 100.057 344.401 98.6623 358.338C98.1975 362.978 97.9116 375.296 98.0247 379C100.061 374.993 105.151 366.729 107.831 362.432C108.867 360.771 109.543 359.702 109.543 359.702Z M181.112 343.379C181.565 338.827 183.36 332.87 183.881 329.903C184.14 318.114 183.993 304.926 183.269 300.184C182.361 294.239 182.361 294.239 182.361 294.239C182.361 294.239 181.983 287.077 174.509 279C173.897 279.082 173.289 279.152 172.685 279.209C171.296 281.178 169.986 286.9 168.17 297.862C167.375 312.26 169.873 307.894 169.192 323.221C168.51 338.548 171.008 345.701 170.099 356.291C169.192 366.881 165.899 372.918 167.375 381C168.708 374.776 174.465 365.916 175.208 362.328C176.343 356.848 180.804 346.456 181.112 343.379Z M125.448 355.018C124.699 344.739 126.756 337.797 126.195 322.921C125.634 308.044 127.691 312.282 127.037 298.307C125.54 287.668 124.462 282.114 123.318 280.203C122.821 280.147 122.319 280.08 121.816 280C115.662 287.839 115.35 294.791 115.35 294.791C115.35 294.791 115.35 294.791 114.602 300.561C114.005 305.163 113.885 317.963 114.098 329.406C114.528 332.285 116.004 338.067 116.379 342.485C116.632 345.472 120.305 355.558 121.24 360.878C121.852 364.36 126.593 372.959 127.691 379C128.906 371.156 126.195 365.296 125.448 355.018Z M170.541 355.328C171.454 344.394 168.944 337.009 169.629 321.184C170.313 305.358 167.804 309.866 168.602 295C166.777 306.317 163.584 315.141 163.013 323.869C162.733 328.15 167.069 341.917 166.431 347.464C170.069 359.44 166.841 375.441 167.804 380.84C166.321 372.496 169.629 366.262 170.541 355.328Z M124.5 280.5C125.32 294.874 126.442 291.016 127.145 306.317C127.849 321.619 125.27 328.76 126.208 339.332C127.145 349.905 130.545 355.932 129.021 364C130.01 358.779 129.021 344.273 133.944 332.211C133.288 326.847 134.231 313.053 133.944 308.914C133.357 300.474 126.375 291.443 124.5 280.5Z",
      isSelected: false,
      isFront : false,
      isBack : true,
      front: undefined,
      back: undefined,
      worked: false
      },
      {
      id:"Calves (back)",   
      path:"M177.774 376.125C176.52 374.302 174.363 372.112 172.87 368.931C172.123 372.636 166.339 381.783 165 388.209C166.368 395.883 165.913 401.542 165 412.283C168.11 424.758 173.407 437.795 174.776 441.344C176.145 444.893 180.74 463.979 177.774 463.979C178.345 466.185 184.847 466.28 185.417 463.979C186.598 459.208 189.359 452.181 195.746 441.344C197.392 430.681 199.56 418.613 199.104 412.283C198.647 405.953 197.735 390.223 197.392 381.304C195.335 377.361 190.195 369.229 187.488 365C180.854 368.068 177.774 376.125 177.774 376.125Z M117.643 376.125C117.643 376.125 114.564 368.068 107.93 365C105.223 369.229 100.082 377.361 98.0256 381.304C97.6835 390.223 100.889 405.953 100.433 412.283C99.9761 418.613 100.433 430.182 101.345 441.344C107.732 452.181 108.82 459.208 110.002 463.979C110.571 466.28 113.597 463.979 120.298 463.979C115.694 465.552 121.179 442.713 122.548 439.164C120.166 440.603 125.85 431.125 128.087 420.758C135.348 408.725 128.544 393.944 129.912 386.27C128.573 379.844 123.294 372.636 122.548 368.931C121.054 372.112 118.898 374.302 117.643 376.125Z",
      isSelected: false,
      isFront : false,
      isBack : true,
      front: undefined,
      back: undefined,
      worked: false
      }
    
    
  ]
  let filtersSectionOpen = false;
  // Toggles the filters section visibility 
function toggleFiltersSection() {
  filtersSectionOpen = !filtersSectionOpen;
}

  /**
   * @type {any[]}
   */
let selectedMuscles = []; // Array to track selected muscle names




  </script>
  
  <header>
    <h1 class="headerTitle">Exercise App</h1>
  </header>

<main>
    <aside>
   
        <h2>Select Muscles</h2>
        {#each muscles.filter(muscle => muscle.id !== "Calves (back)" && muscle.id !== "Trapezius (back)") as muscle (muscle.id)}
          <div class="toggle-item">
            <label for={muscle.id} class="filter-label">{muscle.id}</label>
            <input
              type="checkbox"
              id={muscle.id}
              class="toggle-switch"
              checked={selectedMuscles.includes(muscle.id)}
              on:change={() => toggleMuscle(muscle.id)}
            />
            <label for={muscle.id} class="toggle-label"></label>
          </div>
        {/each}

<h2>
  Filters 
  <button class="filterButton" on:click={toggleFiltersSection}>
    {filtersSectionOpen ? '-' : '+'}
  </button>
</h2>

{#if filtersSectionOpen}
  {#each toggleGroups as group}
    <h2 class="toggle-title">{group.title}</h2>
    {#each group.items as toggle}
      <div class="toggle-item">
        <label class="filter-label">{toggle.label}</label> 
        <input
          type="checkbox"
          id={toggle.id}
          class="toggle-switch"
          disabled
        />
        <label for={toggle.id} class="toggle-label"></label>
      </div>
    {/each}
  {/each}
{/if}
    
    </aside>
    <section class="bodyContainer">
        <svg id="frontView" width="400" height="1000" viewBox="0 0 330 499" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path id="bodyOutline" d="M187.99 34.9494C187.568 36.7164 185.285 45.3926 185.584 47.333M187.99 34.9494C188.271 32.173 188.692 32.4252 187.99 20.3092C187.288 8.19363 172.676 1 164.667 1C151.671 1 143.522 12.9263 142.258 17.8482C141.45 20.9888 141.063 26.7456 141.204 28.5126C141.345 30.2796 141.625 33.182 141.485 34.6336M187.99 34.9494C189.255 33.3089 192.275 31.7626 192.644 37.7257C193.013 43.6889 190.273 44.7774 189.799 46.6705C189.325 48.5635 187.164 49.7467 185.584 47.333M185.584 47.333C185.689 48.6109 184.688 52.255 183.582 54.3847M183.582 54.3847C179.701 59.8113 173.449 63.0928 164.316 63.0928C155.184 63.0928 146.964 55.7731 145.7 54.2586M183.582 54.3847C183.266 58.1708 182.95 70.1917 183.213 71.2329C183.476 72.2741 187.059 75.587 193.856 78.285C199.127 80.3772 203.188 82.3747 206.935 82.3441C211.348 82.3077 228.26 86.2354 233.74 92.4352C239.219 98.635 242.088 111.174 241.274 118.37C240.996 120.828 241.096 122.536 241.419 123.837C241.894 125.743 242.848 126.778 243.803 128.025C245.542 130.296 252.391 145.441 253.076 149.7C253.566 152.75 254.446 154.244 255.816 156.231C256.366 157.03 261.19 164.889 263.284 168.414C265.002 171.304 266.236 174.553 267.091 177.528C269.619 186.331 273.308 201.854 274.994 205.64C275.914 207.709 277.182 210.909 278.4 213.803C279.411 216.205 280.389 218.395 281.105 219.554C282.686 222.11 281.527 223.719 285.109 225.233C286.901 225.991 289.799 227.174 292.473 228.31C295.146 229.445 297.596 230.534 298.492 231.102C300.283 232.238 306.5 235.172 307.659 236.592C308.819 238.012 312.296 239.242 311.98 241.798C311.664 244.353 309.135 244.306 308.081 244.211C307.027 244.117 304.024 243.454 302.443 241.561C300.863 239.668 298.281 239.005 296.964 238.674C295.647 238.343 295.383 239.147 295.91 240.141C296.437 241.135 299.019 247.572 299.546 249.985C300.073 252.399 301.653 256.09 302.285 258.693C302.918 261.296 304.961 268.023 304.92 269.058C304.878 270.093 304.604 272.702 303.076 272.891C301.548 273.08 299.704 272.371 298.597 270.194C297.491 268.017 297.596 265.508 296.859 263.615C296.121 261.722 293.855 255.522 293.329 253.961C292.802 252.399 292.275 251.831 291.853 251.973C291.432 252.115 291.959 252.967 292.328 254.15C292.696 255.333 295.015 261.769 295.383 263.237C295.752 264.704 297.122 270.714 297.702 272.702C298.281 274.69 298.597 277.34 297.333 278.476C296.068 279.612 294.854 279.145 293.697 278.144C292.275 276.914 291.379 272.797 291.168 271.424C290.958 270.052 287.217 259.119 286.848 257.983C286.479 256.848 286.11 254.67 285.267 254.718C284.424 254.765 284.688 255.901 285.004 256.658C285.32 257.415 287.375 263.142 287.586 264.704C287.796 266.265 290.378 273.79 290.273 275.163C290.167 276.535 289.799 278.239 288.113 278.334C286.427 278.428 285.057 276.441 284.319 274.642C283.582 272.844 282.106 268.159 281.685 266.407C281.263 264.656 279.261 258.362 278.787 257.273C278.313 256.185 278.155 255.144 277.417 255.144C276.68 255.144 277.154 256.138 277.523 257.084C277.891 258.031 279.893 264.088 280.262 265.319C280.631 266.549 281.632 269.342 281.316 270.667C281 271.992 278.998 272.56 277.839 271.708C276.481 270.71 273.15 261.296 272.517 259.592C271.885 257.889 269.883 254.292 268.935 250.932C267.986 247.572 266.669 242.224 266.248 238.769C265.826 235.314 266.616 233.279 266.195 232.616C265.99 232.293 264.785 229.916 263.458 227.332C262.059 224.611 260.523 221.661 259.872 220.643C258.604 218.658 253.603 212.077 251.653 209.947C249.704 207.817 237.586 191.821 234.635 185.006C234.322 184.282 232.98 180.936 232.058 177.378C230.923 172.997 230.21 168.295 230.21 167.779C230.21 165.507 228.383 163.299 227.259 161.217C226.135 159.134 217.402 143.014 217.357 142.977C217.125 142.788 214.58 149.953 213.983 150.994C213.385 152.036 212.507 153.455 212.261 154.685C212.015 155.916 210.54 159.134 210.013 160.365C209.486 161.595 207.8 164.308 207.695 166.612C207.59 168.915 206.395 173.964 206.536 177.055C206.676 180.147 209.416 193.588 208.151 197.059C206.887 200.529 206.396 203.369 207.098 205.073C207.8 206.776 210.891 213.592 211.313 218.766C211.734 223.94 212.648 235.362 213.561 239.085C214.474 242.807 219.743 269.247 220.726 274.169C221.279 276.94 222.477 284.491 222.9 292.25C223.228 298.273 222.921 304.423 222.552 308.559C221.709 318.025 218.197 324.587 215.809 328.373C213.42 332.16 212.999 332.917 212.858 337.081C212.718 341.246 211.348 351.784 211.348 356.139C211.348 360.493 211.875 367.118 212.823 372.608C213.771 378.098 212.296 398.732 210.926 409.144C209.556 419.556 207.765 437.729 207.449 442.367C207.133 447.005 207.554 449.182 207.87 450.792C208.187 452.401 207.765 455.619 207.238 456.944C206.711 458.269 206.817 458.364 207.66 460.446C208.503 462.529 209.626 465.305 211.593 468.082C213.561 470.858 214.052 472.499 216.862 475.149C219.672 477.799 223.255 481.838 223.746 483.415C224.238 484.993 226.557 490.104 225.503 491.619C224.449 493.133 223.746 493.008 223.395 492.881C223.115 493.449 222.271 493.985 221.604 493.859C221.569 494.584 220.339 496.351 218.267 495.815C217.776 496.761 215 498.307 213.104 496.604C212.366 497.96 209.311 499.79 206.044 498.402C202.778 497.014 201.688 495.342 201.337 494.711C200.986 494.079 200.81 493.669 199.792 492.944C198.773 492.218 196.56 490.167 196.139 486.255C195.717 482.343 194.874 479.377 194.523 478.304C194.172 477.232 194.172 476.222 192.907 475.654C191.643 475.086 187.006 472.499 186.585 469.407C186.163 466.315 186.093 462.844 186.866 461.267C187.639 459.689 187.498 456.787 187.288 456.156C187.077 455.525 187.498 449.909 188.411 447.574C189.325 445.239 189.465 441.705 188.692 437.288C187.92 432.871 185.461 419.493 184.899 414.95C184.337 410.407 184.969 409.397 184.056 407.062C183.143 404.727 179.49 396.84 179.068 393.811C178.647 390.782 179.103 378.95 180.368 372.324C181.632 365.698 182.651 360.556 182.159 359.483C181.667 358.411 179.981 353.741 179.981 350.018C179.981 346.295 178.998 344.086 178.155 340.931C177.312 337.776 175.837 330.267 175.135 325.85C174.432 321.433 171.833 304.742 170.884 300.483C169.936 296.223 168.777 277.671 169.304 273.601C169.83 269.531 169.936 262.811 169.409 261.675C168.882 260.539 168.075 258.898 167.583 258.615C167.091 258.331 166.388 257.888 164.667 258.015C162.946 258.141 162.209 258.393 161.787 259.214C161.366 260.034 159.96 260.602 160.066 263.883C160.171 267.165 159.89 270.32 160.241 271.961C160.593 273.601 160.788 280.037 160.058 288.304C159.328 296.57 155.816 316.574 155.078 321.685C154.405 326.349 152.065 337.239 151.02 341.481C150.921 341.886 150.832 342.236 150.758 342.509C149.915 345.632 149.599 350.365 149.072 352.637C148.545 354.908 148.018 358.316 147.649 358.931C147.462 359.244 147.208 359.739 147.071 360.25C146.938 360.745 146.915 361.256 147.175 361.628C147.702 362.386 148.334 365.225 148.65 367.355C148.966 369.485 150.125 384.061 150.547 386.806C150.968 389.551 151.074 393.81 149.493 397.123C147.912 400.436 145.769 405.485 145.489 406.936C145.208 408.387 144.013 415.329 143.662 419.556C143.311 423.784 140.08 439.623 140.15 441.642C140.21 443.354 140.723 445.877 141.178 447.337C141.259 447.6 141.34 447.833 141.415 448.015C141.906 449.214 142.75 454.263 142.188 456.282C141.625 458.301 141.836 459.437 142.539 461.014C143.188 462.473 143.236 465.281 142.74 468.239C142.699 468.481 142.657 468.722 142.609 468.965C141.977 472.184 139.729 474.707 136.076 476.096C134.46 480.071 134.46 481.965 134.179 484.173C134.051 485.18 133.707 487.499 133.226 489.003C132.653 490.797 131.884 491.752 131.053 492.344C129.525 493.433 129.051 493.859 128.577 494.9C128.102 495.941 125.257 498.686 123.413 498.898C121.151 499.156 119.005 499.089 116.775 496.698C115.563 497.787 113.93 497.881 112.244 496.036C108.766 496.509 108.872 494.9 108.766 494.143C107.397 494.285 106.975 493.622 106.975 493.196C105.711 493.338 104.499 492.297 104.393 491.114C104.288 489.931 105.289 483.305 108.661 479.945C112.033 476.584 115.668 472.562 117.512 469.249C119.272 466.088 121.603 462.928 122.087 460.26C122.11 460.132 122.135 460.004 122.149 459.878C122.465 457.133 121.359 455.382 121.569 453.868C121.729 452.717 122.161 451.104 122.314 449.647C122.363 449.186 122.385 448.74 122.36 448.331C122.254 446.627 120.621 423.153 119.356 415.202C118.092 407.251 116.617 389.835 116.195 383.777C115.904 379.596 117.34 371.356 117.927 363.727C118.058 362.023 118.064 360.35 118.028 358.759C117.992 357.153 117.914 355.63 117.881 354.245C117.67 345.348 117.881 336.451 115.141 331.15C114.717 330.328 114.236 329.441 113.725 328.472C110.944 323.195 107.278 315.461 106.922 302.186C106.836 298.984 106.521 295.592 106.764 292.144C107.71 278.68 111.145 264.366 112.823 257.131C114.931 248.045 117.881 233.658 117.67 230.629C117.555 228.967 118.01 223.204 118.862 217.756C119.563 213.273 120.533 209.003 121.675 207.408C122.501 206.252 122.93 205.388 123.116 204.686C123.498 203.243 122.849 202.496 122.518 201.349C122.026 199.646 120.832 193.778 122.728 186.142C124.625 178.507 123.255 172.606 122.518 170.429C121.78 168.252 122.413 166.264 120.937 163.709C119.462 161.153 118.374 156.547 117.32 154.401C116.266 152.256 112.353 142.712 112.192 142.748C111.923 142.808 103.55 158.408 102.075 160.964C101.563 161.851 101.174 162.542 100.874 163.127C100.311 164.226 100.07 164.943 99.9672 165.839C99.8155 167.157 97.7181 177.515 95.1243 183.699C95.018 183.952 94.9118 184.2 94.8043 184.438C92.0646 190.496 86.7959 199.488 81.3165 205.546C75.837 211.603 72.7812 216.052 70.8141 218.892C70.4006 219.489 69.8497 220.358 69.2356 221.386C67.263 224.687 64.6316 229.635 63.7351 232.592C63.5829 233.094 63.4784 233.541 63.4379 233.91C63.0868 237.128 64.1406 237.885 63.0164 241.546C61.8923 245.206 61.5412 248.171 60.066 252.336C59.518 253.883 58.4032 255.735 57.6904 257.556C56.4845 260.636 55.6445 263.624 54.938 264.893C53.8139 266.913 53.0409 270.32 52.5494 271.077C52.058 271.834 50.0205 272.939 49.0721 272.039C48.1237 271.14 48.3345 269.957 49.0721 267.496C49.8097 265.035 51.4957 259.687 52.0753 258.031C52.6548 256.374 53.0236 255.428 52.5494 255.38C52.0753 255.333 51.6011 255.996 51.0215 257.463C50.442 258.93 49.067 263.805 48.4373 265.934C47.8076 268.064 45.2786 274.974 44.4883 276.204C43.698 277.435 42.5916 278.57 40.8003 278.002C39.0089 277.435 39.2723 275.541 39.7465 273.932C40.2207 272.323 41.5906 268.111 42.0121 266.218C42.4336 264.325 44.6991 257.368 45.0152 256.516C45.3313 255.664 45.4367 254.765 44.6991 254.718C43.9615 254.67 43.6454 255.996 43.0658 257.699C42.4862 259.403 40.9056 263.568 40.0626 266.786C39.2196 270.004 37.6917 275.258 36.9541 276.677C36.2165 278.097 34.8993 279.47 32.9499 278.807C31.0005 278.144 31.6854 275.873 31.7908 274.832C31.8962 273.79 33.6875 267.78 34.0036 266.313C34.3198 264.846 36.7434 256.942 37.3229 255.475C37.9025 254.008 38.9035 252.115 38.0605 251.784C37.2175 251.452 36.7961 253.487 36.2165 254.718C35.6369 255.948 33.3187 262.006 32.8445 263.047C32.3704 264.088 31.4924 267.78 31.1674 268.916C30.8424 270.052 29.3145 273.27 27.5232 272.939C25.7318 272.607 24.8361 271.187 25.363 268.159C25.8899 265.13 27.3651 259.829 28.2081 257.084C29.0511 254.339 30.4209 250.269 30.6844 249.086C30.9478 247.903 34.5305 240.047 34.5305 239.431C34.5305 238.816 32.9132 238.93 31.3166 239.384C28.5946 240.158 26.206 242.744 24.7834 243.359C23.3609 243.975 21.0427 244.637 19.304 243.927C17.5653 243.217 17.5653 240.757 19.304 239.952C21.0427 239.147 22.3598 237.112 24.3093 235.977C26.2587 234.841 34.5832 228.594 40.2207 227.174C43.36 226.383 44.799 225.842 45.6045 225.232C46.2456 224.746 46.4858 224.216 46.8593 223.482C47.1467 222.917 49.1117 219.254 51.2664 214.341C52.0141 212.637 52.7846 210.782 53.5159 208.854C56.8575 200.041 59.7031 189.699 60.5578 185.195C61.04 182.654 62.0339 179.478 63.2815 176.175C66.1241 168.655 70.2914 160.479 72.7812 157.651C75.8451 154.171 75.6735 153.526 76.4815 150.571C76.6185 150.071 76.7825 149.506 76.9962 148.848C78.4714 144.305 82.6864 132.379 84.8992 129.445C86.8077 126.914 87.8518 126.14 88.036 123.849C88.0655 123.484 88.0747 123.085 88.0604 122.63C87.955 119.317 86.9013 107.012 91.9592 97.7358C97.0172 88.4598 109.767 84.295 114.509 83.4432C119.251 82.5913 122.412 83.1592 125.784 81.8341C129.156 80.5089 142.433 77.1961 146.016 71.4222C146.332 65.5537 146.613 56.6564 145.7 54.2586M145.7 54.2586C144.787 51.8605 144.576 49.0841 144.295 47.1278M144.295 47.1278C144.295 43.3417 142.345 37.547 141.485 34.6336M144.295 47.1278C142.89 49.5888 141.274 48.2008 140.712 47.759C140.15 47.3171 138.113 43.1528 137.691 41.7644C137.27 40.376 136.357 35.4541 138.043 33.9396C139.729 32.4252 141.063 33.94 141.485 34.6336" stroke="black" stroke-width="2"/>
           
           {#each muscles as muscle (muscle.id)}
             {#if muscle.isFront}
               <path d="{muscle.path}" fill="{muscle.isSelected ? 'red' : 'white'}" stroke="black"/>
             {/if}
           {/each}
        </svg>
      
        <svg id="backView" width="400" height="1000" viewBox="0 0 330 499" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M174.118 21.7353C173.633 28.3442 170.783 46.0014 169.418 53.1169C169.106 54.7432 168.871 55.8192 168.761 56.0863C168.165 57.5226 167.645 68.2026 168.091 69.0147C168.538 69.8268 177.913 76.5095 190.413 80.0695C202.914 83.6294 221.293 85.1284 228.883 95.5274C236.473 105.927 234.464 117.356 234.352 124.945C234.39 124.995 234.43 125.048 234.468 125.1C237.7 129.451 242.296 137.579 243.951 144.431C245.376 150.33 246.638 152.363 247.533 155.205C247.69 155.703 247.836 156.224 247.969 156.797C248.862 160.638 251.764 165.791 252.545 166.821C253.327 167.852 260.023 178.813 261.251 185.464C261.331 185.896 261.42 186.376 261.516 186.892C262.893 194.313 265.81 209.768 267.166 215.724C267.803 218.518 268.719 221.133 269.593 223.314C270.712 226.104 271.765 228.186 272.078 229.027C272.636 230.526 272.859 233.43 274.422 233.618C274.627 233.642 274.858 233.691 275.107 233.757C276.761 234.187 279.276 235.402 281.118 236.054C283.239 236.803 285.733 239.457 286.774 239.832C287.816 240.207 290.742 241.636 291.387 243.08C292.28 245.079 294.14 245.391 293.992 246.765C293.843 248.139 292.652 248.701 291.313 248.764C289.973 248.825 287.295 247.639 286.625 246.765C285.955 245.89 283.649 244.641 284.095 245.703C284.542 246.766 287.146 252.261 287.518 253.885C287.89 255.509 288.931 261.317 289.229 262.316C289.527 263.315 290.048 264.503 290.197 267.563C290.345 270.623 291.462 275.307 291.015 276.306C290.569 277.306 289.229 278.242 288.113 277.743C286.997 277.243 285.583 275.62 285.286 273.871C284.988 272.122 284.84 270.748 284.467 269.374C284.095 268 282.161 261.442 281.863 260.817C281.565 260.193 280.747 259.506 280.97 260.88C281.194 262.253 283.203 268.374 283.203 269.687C283.203 270.998 283.798 277.931 283.872 279.304C283.946 280.679 284.095 281.99 283.426 282.802C282.756 283.614 280.598 283.364 280.077 282.802C279.556 282.239 278.142 279.992 277.919 277.368C277.696 274.745 276.58 270.186 276.357 268.874C276.133 267.563 274.423 262.504 274.273 262.004C274.124 261.504 272.562 259.881 272.934 262.192C273.306 264.502 274.868 268.437 275.017 269.873C275.166 271.31 276.134 277.43 276.283 278.493C276.431 279.555 277.026 281.428 275.91 282.302C274.794 283.177 273.604 283.115 272.264 281.928C270.925 280.741 270.032 275.807 269.66 274.121C269.288 272.434 268.097 267.563 267.725 266.376L267.686 266.249C267.302 265.024 266.583 262.726 265.865 261.942C265.121 261.13 264.079 261.13 264.525 262.504C264.972 263.878 265.865 266.813 266.014 267.812C266.163 268.812 266.684 271.247 266.907 272.497L266.929 272.62C267.153 273.869 267.483 275.71 266.907 276.556C266.311 277.431 264.898 277.618 263.782 276.743C262.666 275.869 259.54 264.752 259.243 263.878C258.945 263.004 258.35 261.317 257.605 259.943C256.861 258.569 255.448 251.449 255.001 250.2C254.555 248.951 254.108 244.391 254.852 242.892C255.26 242.071 255.555 241.531 255.654 240.923C255.736 240.421 255.683 239.873 255.448 239.083C255.027 237.669 253.97 234.231 249.922 228.162C248.964 226.726 247.841 225.144 246.517 223.406C239.597 214.319 230.222 203.358 226.204 193.615C225.974 193.057 225.762 192.519 225.561 191.996C222.248 183.368 222.713 179.262 222.186 177.408C221.628 175.44 220.335 171.224 220.368 170.1C220.4 168.975 220.4 168.789 219.396 167.196C219.264 166.987 219.002 166.53 218.645 165.894C216.279 161.665 209.724 149.449 209.239 148.552C208.681 147.522 207.974 146.399 207.453 146.43C206.932 146.461 206.337 148.866 205.965 149.989C205.593 151.114 203.063 156.578 202.096 157.891C201.128 159.202 200.608 160.764 199.938 162.637C199.465 163.959 197.768 167.306 196.602 169.444C196.116 170.336 195.724 171.017 195.549 171.256C194.953 172.067 193.912 175.753 193.614 177.563C193.316 179.375 192.126 188.244 192.572 190.055C193.018 191.866 194.73 200.797 194.656 203.108C194.582 205.419 193.763 209.478 193.391 210.228C193.019 210.977 193.167 212.414 193.539 213.289C193.61 213.453 193.781 213.788 194.018 214.267C194.097 214.425 194.182 214.599 194.274 214.788C195.377 217.063 197.354 221.508 198.078 226.654C199.045 233.524 198.747 240.27 199.268 242.643C199.563 243.984 200.38 247.601 201.076 250.763C201.611 253.194 202.073 255.356 202.17 256.008C202.394 257.507 203.733 263.315 204.329 265.627C204.924 267.938 206.039 276.182 206.635 279.055C207.23 281.927 209.686 296.543 209.239 302.163C208.793 307.784 208.123 318.964 206.895 323.93C205.667 328.895 201.203 338.263 200.868 339.387C200.735 339.835 200.37 341.21 199.973 343.441C199.375 346.804 198.702 352.114 198.635 359.154C198.575 365.475 198.905 371.467 199.362 376.675C199.752 381.117 200.234 384.992 200.645 388.01C201.538 394.567 201.426 401.125 200.198 411.337C198.971 421.548 197.185 434.196 196.85 439.067C196.781 440.078 196.721 441.239 196.666 442.468C196.454 447.165 196.311 452.879 195.957 455.181C195.511 458.085 194.953 463.8 194.953 467.173C194.953 470.545 194.729 474.73 195.696 475.292C195.745 475.32 195.788 475.347 195.831 475.374C196.642 475.889 196.49 476.223 197.408 476.104C198.375 475.979 201.129 476.853 201.352 477.415C201.575 477.978 202.245 478.352 202.915 478.352C203.584 478.352 205.221 479.414 205.221 479.976C205.221 480.538 205.742 480.538 206.114 480.538C206.486 480.538 209.389 482.162 208.793 483.348C208.198 484.536 208.123 484.41 207.974 485.535C207.826 486.659 207.007 488.658 204.552 489.344C202.096 490.032 195.92 491.468 194.953 492.155C194.767 492.287 194.498 492.511 194.144 492.796C193.953 492.949 193.734 493.121 193.493 493.304C191.85 494.552 189.028 496.378 184.833 497.214C178.881 498.401 175.862 497.485 172.928 494.529C171.839 493.432 171.662 491.725 171.828 489.917C172.06 487.4 172.958 484.688 173.002 483.161C173.077 480.538 173.225 476.852 172.779 473.98C172.332 471.107 172.11 469.046 173.374 465.736C174.639 462.425 175.532 460.427 174.193 455.743C173.534 453.437 172.523 448.043 171.652 442.882C170.755 437.558 170.008 432.48 169.951 431.292C169.839 428.949 169.505 424.64 168.165 423.141C166.826 421.642 163.254 415.459 163.477 408.151C163.701 400.844 166.268 379.671 166.826 376.393C166.943 375.702 167.013 375.072 167.042 374.484C167.149 372.272 166.632 370.653 165.486 368.804C164.035 366.462 164.259 356.906 163.031 353.627C162.57 352.396 161.983 350.623 161.388 348.528C160.399 345.041 159.389 340.66 158.901 336.389C158.12 329.551 156.446 320.369 154.995 315.31C153.544 310.251 151.535 289.734 152.093 282.802C152.651 275.869 152.986 274.246 152.614 272.06C151.051 270.998 149.581 268.468 149.358 267.812C149.135 267.157 148.521 266.736 147.461 266.736C146.4 266.736 145.954 266.922 145.508 267.953C145.061 268.984 143.275 271.232 142.048 272.309C141.768 274.323 142.123 278.181 142.494 280.429C142.866 282.678 142.866 289.297 142.42 295.792C141.973 302.288 138.7 320.213 137.732 325.272C136.765 330.331 134.83 344.821 134.086 347.007C133.342 349.192 131.109 354.189 130.737 358.311C130.365 362.434 129.993 367.305 128.951 369.116C127.91 370.928 127.091 373.051 127.612 375.112C128.132 377.173 129.249 383.731 129.993 390.789C130.737 397.846 132.523 410.337 130.514 415.334C128.505 420.331 124.934 425.077 124.785 429.324C124.7 431.741 124.086 436.582 123.407 441.148C122.893 444.607 122.343 447.906 121.958 449.873C121.065 454.431 119.502 458.99 120.098 461.614C120.693 464.237 122.851 469.733 122.702 471.17C122.553 472.606 121.065 478.039 121.734 482.848C122.099 485.473 122.576 488.229 122.655 490.534C122.721 492.454 122.511 494.063 121.734 495.028C120.022 497.152 116.153 498.66 111.465 497.718C106.777 496.777 102.164 494.154 101.122 493.341C100.081 492.529 100.08 491.843 94.6485 490.781C89.217 489.719 86.6128 487.845 86.2404 486.222C85.8681 484.598 85.0497 483.662 85.4962 482.787C85.9426 481.912 87.0588 480.85 87.803 480.788C88.5473 480.726 89.0308 480.429 89.0866 480.054C89.1424 479.68 90.8166 478.461 91.7095 478.508C92.6024 478.555 92.6582 478.321 92.714 478.087C92.7698 477.852 95.0021 475.979 95.7276 476.166C96.4531 476.353 97.4018 476.588 97.5134 476.119C97.6251 475.651 98.4063 475.136 98.9086 475.136C99.4109 475.136 99.4109 474.433 99.2989 473.731C99.1879 473.028 99.8019 465.486 99.7459 463.003C99.6899 460.521 97.9599 449.185 97.8483 441.222C97.7367 433.259 94.9463 412.086 93.8302 406.84C92.714 401.593 94.165 389.133 94.9463 384.356C95.216 382.707 95.512 380.49 95.766 377.965C96.2482 373.173 96.5781 367.274 96.2857 362.059C95.8392 354.095 95.5044 346.882 94.3882 342.011C93.2721 337.138 89.3656 330.113 87.5798 323.555C85.794 316.997 84.4546 300.602 86.352 288.517C88.2495 276.431 88.9192 275.12 89.5888 270.998C90.2585 266.876 93.2717 253.947 93.9413 250.763C94.611 247.577 95.9504 243.174 95.7272 238.583C95.5039 233.992 98.1827 217.972 100.862 214.6C100.948 214.491 101.023 214.385 101.098 214.279L101.12 214.248C102.919 211.711 101.939 209.799 101.308 208.323C100.649 206.779 100.304 199.985 100.75 197.831C101.197 195.675 103.094 190.71 102.201 183.684C101.308 176.657 100.192 172.349 98.4059 169.538C96.6201 166.728 94.7226 159.701 92.4904 157.36C90.2581 155.017 88.5281 149.724 88.3606 148.74C88.1932 147.757 88.0258 146.446 87.5235 146.446C87.0213 146.446 86.4637 147.195 86.073 148.272C85.6824 149.35 79.9155 159.639 78.3529 162.262C77.9279 162.975 77.4368 163.778 76.9457 164.591C75.6309 166.769 74.3152 169.034 74.2607 169.943C74.1866 171.193 73.5169 174.128 73.2191 174.878C72.9299 175.606 72.7813 176.687 72.5685 178.237L72.5494 178.376C72.4539 179.07 71.9217 181.928 70.7846 185.83C70.0868 188.223 69.1608 191.009 67.9683 193.929C66.5633 197.371 64.7878 200.997 62.5778 204.388C56.7185 213.379 49.2828 221.046 44.766 227.441C43.7762 228.842 42.9271 230.183 42.265 231.463C38.5817 238.583 38.6934 240.082 39.1398 241.581C39.5862 243.08 40.6333 244.704 38.9189 251.449C37.2045 258.195 36.8326 260.131 35.9397 261.692C35.0468 263.253 33.4096 268.062 33.1864 269.311C32.9632 270.561 32.0703 272.746 31.7725 273.808C31.4747 274.87 30.9541 276.62 29.5402 277.119C28.1263 277.619 26.9356 276.806 27.0101 274.683C27.0847 272.56 28.9451 266.001 29.317 264.814C29.6889 263.629 30.5818 261.505 29.7634 261.38C28.9451 261.255 27.9035 262.691 27.3825 264.191C26.8619 265.69 25.3734 270.436 24.7783 273.621C24.1832 276.806 23.1411 280.866 22.2482 281.802C21.3553 282.739 19.8673 283.738 18.4534 282.427C17.0394 281.116 17.7837 279.055 18.4534 276.494C19.123 273.933 19.0485 271.06 19.7927 268.5C20.537 265.939 21.3553 263.191 21.5785 262.379C21.8018 261.567 20.9089 260.38 20.0905 261.442C19.2722 262.504 18.3324 266.439 17.6488 268.625C16.9653 270.81 16.8908 274.121 16.5189 276.12C16.147 278.118 15.3282 281.491 14.5098 282.302C13.6915 283.115 11.0868 284.052 10.4917 282.49C9.89659 280.928 10.1939 277.181 10.4917 275.682C10.7895 274.184 11.6079 269.748 11.6079 268.937C11.6079 268.125 12.799 263.191 13.3196 262.066C13.8401 260.942 13.4682 259.194 12.5753 260.505C11.6824 261.816 10.2689 267.937 9.74789 268.936C9.22689 269.936 9.45009 272.371 8.55721 274.37C7.6643 276.368 6.17626 278.493 4.16721 277.243C2.15817 275.994 3.49753 271.497 3.6462 270.373C3.79487 269.248 4.83645 262.878 5.13423 261.379C5.43202 259.88 6.62227 255.321 7.14328 253.51C7.66385 251.699 9.89609 246.765 10.1939 246.078C10.4917 245.39 10.0453 244.641 9.37559 245.204C8.70588 245.766 5.24942 249.013 3.07117 248.764C0.892908 248.513 0 247.639 0 246.515C0 245.39 2.15772 244.828 2.45551 243.767C2.75329 242.706 4.53866 241.393 6.4736 240.457C8.40854 239.52 9.37599 237.646 11.0127 237.084C12.6494 236.522 17.5604 234.319 18.9748 233.899C20.1753 233.542 21.2629 232.846 21.4303 232.213C22.3246 229.17 23.8858 226.654 24.1836 225.342C24.2622 224.995 24.6426 223.746 25.185 221.93C26.6927 216.884 29.4482 207.467 30.4336 200.922C30.9559 197.45 32.056 192.624 33.4418 187.729C33.9423 185.96 34.4802 184.182 35.0419 182.455C36.9107 176.711 39.0408 171.536 40.9252 169.163C44.9433 164.104 43.1574 164.76 45.2781 161.668C47.3988 158.577 46.9523 155.766 48.1801 152.862C49.4078 149.958 50.6356 146.304 51.4169 142.464C52.1982 138.622 57.2954 129.972 60.346 125.975C60.346 122.727 60.0241 118.041 60.346 113.046C61.0157 102.647 64.9222 95.1526 72.6235 89.5316C77.8051 85.7497 92.8198 83.0498 96.5089 82.2242C98.0876 81.8709 101.159 81.0336 104.787 79.8817C112.704 77.368 123.272 73.3512 126.756 69.5765C127.841 68.4012 127.227 58.506 126.533 57.7722C126.249 57.4717 125.764 55.5643 125.213 52.9554C123.816 46.3491 121.989 35.2468 121.882 34.3516C121.734 33.1026 120.926 23.6873 120.841 20.7363C120.618 12.9916 134.532 1 146.735 1C161.171 1 174.713 13.6162 174.118 21.7353Z" fill="white" stroke="black" stroke-width="2"/>
          
          {#each muscles as muscle (muscle.id)}
            {#if muscle.isBack}
              <path d="{muscle.path}" fill="{muscle.isSelected ? 'red' : 'white'}" stroke="black"/>
            {/if}
          {/each}
        </svg>
      </section>
      <section class="workoutContainer">
        <div class="workoutGroupsWrapper">
          {#if workouts.length > 0}
            <div class="workoutGroupContainer"> 
              <div class="workoutGroupInnerContainer">
                {#each workouts as workout}
                  <WorkoutCard
                    workoutName={workout.name}
                    imgSrc={workout.images && workout.images.length > 0 ? workout.images[0].image : 'https://via.placeholder.com/100?text=No+Image'}
                  />
                {/each}
              </div>
            </div>
          {:else}
            <div class="no-selection-message">
              <p>No workouts available</p>
            </div>
          {/if}
        </div> 
      </section>
</main>      
  <style>

*{
  box-sizing: border-box;
}


aside {
  flex: 1;                      
  overflow: visible;        
  max-width: 300px; 
}

    header {
    background-color: #333;
    color: white;
    padding: 0.625rem 0; 
    margin: 0.625rem; 
}
main {
  display: flex;               
  width: 100vw;                
  height: 100%;               
  gap: 0;                     
  overflow: hidden;             
}
aside, .bodyContainer, .workoutContainer {
  height: 100%;                  
}

.headerTitle{
  font-weight: bold; 
  text-align: center;
}

.toggle-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
  margin: 5px;
  padding: 10px 0;
  border-bottom: 1px solid #eee;
}

.toggle-item:last-child {
  border-bottom: none; 
}

.toggle-switch {
  display:none;
}

.toggle-label {
  display: inline-block;
  width: 3.75rem; 
  height: 1.875rem; 
  background-color: #ccc;
  border-radius: 1.875rem;
  position: relative;
  cursor: pointer;
  transition: background-color 0.3s;
}
.toggle-label:hover {
  background-color: #ddd;
}


.toggle-label::after {
  content: '';
  width: 1.625rem; 
  height: 1.625rem; 
  background-color: white;
  border-radius: 50%;
  position: absolute;
  top: 0.125rem; 
  left: 0.125rem; 
  transition: 0.3s;
}

.toggle-switch:checked + .toggle-label {
  background-color: #636363;
}

.toggle-switch:checked + .toggle-label::after {
  transform: translateX(1.875rem); 
}

.toggle-title{
  font-size: 2.0rem;  
    font-weight: bold;
}

.bodyContainer {                    
  display: flex;
  justify-content: center;       
  align-items: center;           
  overflow-y: auto;             
  width: 500px; 
  flex-shrink: 0;
}
#frontView, #backView {
  width: 50%; 
  height: auto; 
  display: block;
}

.workoutContainer {
  flex: 2.5;        
  width: 100%;  
  height: 70%;     
  margin: 2%;
  max-width: 50%;
  padding: 1rem;
}
.workoutGroupsWrapper {
  overflow-y: auto;  
  width: 100%;
  height: 100%;  
  display: flex;                         
  justify-content: flex-start; 
  flex-direction: column;
  padding: 1rem;
  scroll-padding-bottom: 2rem;
}

.workoutGroupContainer{
width:100%;
}

.workoutGroupInnerContainer{
  width:100%;
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
  justify-content: center;
}


.no-selection-message {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  max-width: 25rem;
  padding: 1.25rem;
  background-color: #f8f8f8;
  border: 0.125rem solid #ddd;
  border-radius: 0.625rem;
  box-shadow: 0 0.25rem 0.375rem rgba(0, 0, 0, 0.1);
  text-align: center;
  font-size: 2rem;
  color: #555;
  font-weight: bold;
  font-family: 'Arial', sans-serif;
  z-index: 1000;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

.no-selection-message::before {
  content: '⚠️';
  font-size: 4rem;
  margin-bottom: 0.625rem;
  color: #f39c12;
}
  </style>
  